<!--index.wxml-->
<view class="container">
    <view style="height: 100vh;">
        <swiper class="swiper-box" indicator-dots="false" autoplay="true" interval="3000" duration="800" circular="true" style="height:340rpx;" wx:if="{{bannerData!=''}}"> 
            <block wx:for="{{bannerData}}" wx:key="property" wx:for-item="items">  
                <swiper-item> 
                    <view data-url="{{items.typedata.link}}">  
                        <image src="{{items.image}}" class="slide-image"/>  
                    </view> 
                    <!-- <text class="ban-title">{{items.title}}</text> -->
                </swiper-item>  
            </block>  
        </swiper>
        <!-- 帖子 -->
        <view class="content">
            <block wx:for="{{newsData}}" wx:for-index="id" wx:for-item="itemsTitle" wx:key="item" wx:if="{{itemsTitle.type!=4}}">
                <block wx:if="{{itemsTitle.img.length==1 || itemsTitle.img.length==2}}">
                    <view class="post transverse" data-tid="{{itemsTitle.cid}}" bindtap='jumpDetails'  data-type="{{itemsTitle.type}}" data-details="index">
                        <view class="alone">
                            <view class="especially">
                                <text class="title">{{itemsTitle.title}}</text>              
                                <view class="info">
                                    <text class="read">{{itemsTitle.popularity}}阅读</text>
                                    <text class="time">{{itemsTitle.showtime}}</text>
                                </view>
                            </view>
                            <view class="photo">
                                <image wx:for="{{itemsTitle.img}}" wx:for-item="items" wx:key="itemLsit" wx:for-index="index"  src="{{arr[index]?items:imgDefault}}"  lazy-load='true' wx:if="{{index==0}}" mode='aspectFill'></image>
                            </view>
                        </view>
                    </view>
                </block>
                <block wx:else="{{itemsTitle.img.length>=3}}">
                    <view class="post" bindtap='jumpDetails' data-tid="{{itemsTitle.cid}}" data-type="{{itemsTitle.type}}" data-details="index">
                        <view class="alone">
                            <view class="especially">
                                <text class="title">{{itemsTitle.title}}</text>
                            </view>
                            <view class="photo">
                                <image wx:for="{{itemsTitle.img}}" wx:for-item="items" wx:key="itemLsit"  src="{{arr[index]?items:imgDefault}}"  lazy-load='true'  mode='aspectFill'></image>
                            </view>
                        </view>
                        <view class="info">
                            <text class="read">{{itemsTitle.popularity}}阅读</text>
                            <text class="time">{{itemsTitle.showtime}}</text>
                        </view>
                    </view>
                </block>
            </block>
        </view>
        <view class="loading" wx:if="{{hasMore}}">
            <view class="loading-title">正在加载中</view>
            <image class="loading-img" src="/images/loading.gif"></image>
        </view>
        <view class="loading" wx:else>没有更多数据</view> 
    </view>
</view>
